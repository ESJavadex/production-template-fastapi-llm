# ==============================================
# Production Configuration Example
# ==============================================
# Copy this file to .env and fill in your values
# NEVER commit .env to version control

# === Application ===
APP_NAME="Ferrari AI Chatbot - Production"
APP_VERSION="2.0.0"
ENVIRONMENT="production"  # development, staging, production
DEBUG=false

# === API ===
API_HOST="0.0.0.0"
API_PORT=8000
API_WORKERS=4

# === OpenAI ===
OPENAI_API_KEY="sk-..."  # REQUIRED: Your OpenAI API key
OPENAI_MODEL="gpt-4o-mini"
OPENAI_TIMEOUT=30
OPENAI_MAX_RETRIES=3

# === Security & Validation ===
MAX_MESSAGE_LENGTH=4000
MAX_MESSAGES_PER_SESSION=50
MAX_TOTAL_SESSION_TOKENS=8000
MAX_CONVERSATION_AGE_HOURS=24

# === Rate Limiting ===
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE_PER_IP=10
RATE_LIMIT_REQUESTS_PER_MINUTE_PER_USER=20
RATE_LIMIT_REQUESTS_PER_HOUR_GLOBAL=1000
RATE_LIMIT_REDIS_URL="redis://localhost:6379/0"

# === Prompt Injection Protection ===
PROMPT_INJECTION_ENABLED=true
PROMPT_INJECTION_SIMILARITY_THRESHOLD=0.85

# === Content Moderation ===
MODERATION_ENABLED=true
MODERATION_PRE_LLM=true
MODERATION_POST_LLM=true
MODERATION_THRESHOLD=0.5

# === Observability ===
OBSERVABILITY_PROVIDER="langfuse"  # langfuse, langsmith, logfire

# LangSmith (if using)
# LANGSMITH_API_KEY="lsv2_..."
# LANGSMITH_PROJECT="ferrari-chatbot-prod"
# LANGSMITH_ENDPOINT="https://api.smith.langchain.com"

# Langfuse (if using)
LANGFUSE_PUBLIC_KEY="pk-lf-..."
LANGFUSE_SECRET_KEY="sk-lf-..."
LANGFUSE_HOST="https://cloud.langfuse.com"

# Logfire (if using)
# LOGFIRE_TOKEN="..."

# General observability
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_FORMAT="json"  # json or text
ENABLE_PII_REDACTION=true
SAMPLING_RATE=1.0  # 0.0-1.0

# === Cost Tracking ===
COST_TRACKING_ENABLED=true
COST_PER_1M_INPUT_TOKENS=0.15
COST_PER_1M_OUTPUT_TOKENS=0.60
COST_BUDGET_DAILY_USD=100.0
COST_BUDGET_MONTHLY_USD=2000.0
COST_ALERT_THRESHOLD=0.8
COST_ALERT_EMAIL="alerts@company.com"

# === Caching ===
CACHE_ENABLED=true
CACHE_REDIS_URL="redis://localhost:6379/1"
CACHE_TTL_SECONDS=3600
CACHE_SIMILARITY_THRESHOLD=0.95

# === Circuit Breaker ===
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60

# === GDPR Compliance ===
GDPR_ENABLED=true
GDPR_DATA_RETENTION_DAYS=90
GDPR_ENCRYPTION_ENABLED=true
GDPR_ENCRYPTION_KEY="your-256-bit-base64-encoded-key-here"
GDPR_AUDIT_LOG_ENABLED=true
GDPR_DPO_EMAIL="dpo@company.com"

# === EU AI Act Compliance ===
EU_AI_ACT_ENABLED=true
EU_AI_ACT_RISK_LEVEL="limited"  # minimal, limited, high, unacceptable
EU_AI_ACT_HUMAN_OVERSIGHT=true
EU_AI_ACT_TRANSPARENCY_NOTICE=true
EU_AI_ACT_BIAS_MONITORING=true

# === CORS ===
CORS_ORIGINS='["https://yourdomain.com", "https://www.yourdomain.com"]'
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS='["GET", "POST", "OPTIONS"]'
CORS_ALLOW_HEADERS='["*"]'

# === Prompt Versioning ===
PROMPT_VERSION="v1.0"
PROMPT_VERSIONING_ENABLED=true
